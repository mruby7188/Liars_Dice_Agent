# Liars Dice Game

This is a game of Liars Dice, which can be played with up to 12 players.  This version currently supports 1 user player, with the remaining players filled by computer players that will act with of mix of randomness and probabilistic reasoning.


## Theory

The GameAgent *(in progress)* with m dice and a bet of k of dice d and n total dice remaining, will make bet/call decisions based on 

Letting <a href="https://www.codecogs.com/eqnedit.php?latex=$X_i&space;=&space;a&space;&plus;&space;(\&hash;\{Z_i&space;=&space;d&space;:&space;i&space;\in&space;[0,&space;i]\})&hash;" target="_blank"><img src="https://latex.codecogs.com/gif.latex?$X_i&space;=&space;a&space;&plus;&space;(\&hash;\{Z_i&space;=&space;d&space;:&space;i&space;\in&space;[0,&space;i]\})&hash;" title="$X_i = a + (\#\{Z_i = d : i \in [0, i]\})#" /></a>, where a is the number of dice, d, in the hand of the players whose turn it is.

If k - a <= 0; we know that the bet is true so the agent will never call that bet, similarly if k -a > n - m, the agent should always call since this is impossible.  Otherwise we define the probability of the bet being true as:

<a href="https://www.codecogs.com/eqnedit.php?latex=$$\mathbb{P}[at\&space;least\&space;k\&space;dice\&space;of\&space;face\&space;d\&space;|\&space;oppoenents\&space;bet]&space;=&space;\mathbb{P}(X_{i,&space;d}&space;\geq&space;k&space;-&space;a&space;|&space;bet)&space;=&space;\sum\limits_{i&space;=&space;1}^{s}&space;\mathbb{P}&space;[X_{n&space;-&space;m,&space;d}&space;\geq&space;k&space;-&space;a&space;-&space;i&space;|&space;X_{s,&space;d}&space;=&space;i]&space;$$" target="_blank"><img src="https://latex.codecogs.com/gif.latex?$$\mathbb{P}[at\&space;least\&space;k\&space;dice\&space;of\&space;face\&space;d\&space;|\&space;oppoenents\&space;bet]&space;=&space;\mathbb{P}(X_{i,&space;d}&space;\geq&space;k&space;-&space;a&space;|&space;bet)&space;=&space;\sum\limits_{i&space;=&space;1}^{s}&space;\mathbb{P}&space;[X_{n&space;-&space;m,&space;d}&space;\geq&space;k&space;-&space;a&space;-&space;i&space;|&space;X_{s,&space;d}&space;=&space;i]&space;$$" title="$$\mathbb{P}[at\ least\ k\ dice\ of\ face\ d\ |\ oppoenents\ bet] = \mathbb{P}(X_{i, d} \geq k - a | bet) = \sum\limits_{i = 1}^{s} \mathbb{P} [X_{n - m, d} \geq k - a - i | X_{s, d} = i] $$" /></a>

<a href="https://www.codecogs.com/eqnedit.php?latex=$$\mathbb{P}&space;\left[&space;\&hash;&space;\{&space;Z_i&space;=&space;d&space;:&space;i&space;\in&space;[1,&space;n]&space;\}&space;\geq&space;k&space;\big|&space;\{&space;Z_i&space;=&space;d&space;:&space;i&space;\in&space;[1,&space;m]&space;\}&space;=&space;j&space;\right]&space;=&space;\mathbb{P}&space;\left[&space;\&hash;&space;\{&space;Z_i&space;=&space;d&space;:&space;i&space;\in&space;[m&space;&plus;&space;1,&space;n]&space;\}&space;\geq&space;k&space;-&space;j&space;\right]$$" target="_blank"><img src="https://latex.codecogs.com/gif.latex?$$\mathbb{P}&space;\left[&space;\&hash;&space;\{&space;Z_i&space;=&space;d&space;:&space;i&space;\in&space;[1,&space;n]&space;\}&space;\geq&space;k&space;\big|&space;\{&space;Z_i&space;=&space;d&space;:&space;i&space;\in&space;[1,&space;m]&space;\}&space;=&space;j&space;\right]&space;=&space;\mathbb{P}&space;\left[&space;\&hash;&space;\{&space;Z_i&space;=&space;d&space;:&space;i&space;\in&space;[m&space;&plus;&space;1,&space;n]&space;\}&space;\geq&space;k&space;-&space;j&space;\right]$$" title="$$\mathbb{P} \left[ \# \{ Z_i = d : i \in [1, n] \} \geq k \big| \{ Z_i = d : i \in [1, m] \} = j \right] = \mathbb{P} \left[ \# \{ Z_i = d : i \in [m + 1, n] \} \geq k - j \right]$$" /></a>

Letting <a href="https://www.codecogs.com/eqnedit.php?latex=$$X_{i,&space;d}&space;=&space;\&hash;&space;\{Z_t&space;==&space;d&space;:&space;t&space;\in&space;(1,&space;i)&space;\}$$" target="_blank"><img src="https://latex.codecogs.com/gif.latex?$$X_{i,&space;d}&space;=&space;\&hash;&space;\{Z_t&space;==&space;d&space;:&space;t&space;\in&space;(1,&space;i)&space;\}$$" title="$$X_{i, d} = \# \{Z_t == d : t \in (1, i) \}$$" /></a>

Further, we estimate the probability that a player is lying or will call our bluff by:

<a href="https://www.codecogs.com/eqnedit.php?latex=$$&space;=&space;\frac{\sum\limits_{i=0}^{min(s,&space;k-a)}&space;\mathbb{P}[X_{n-m-s,d}&space;\geq&space;k-a-i]&space;\cdot&space;\mathbb{P}[X_{s,d}&space;=&space;i]}{\mathbb{P}[X_{n-m}&space;\geq&space;k]}&space;\\&space;\\&space;$$&space;=&space;\frac{\left&space;(&space;\frac{5}{6}&space;\right&space;)^{s}&space;&plus;&space;\sum\limits_{j&space;=&space;1}^{min(k,&space;s-a)}&space;\left&space;[1&space;-&space;\sum\limits_{i&space;=&space;0}^{j&space;-&space;1}&space;\binom{n&space;-&space;m&space;-s}{i}&space;\left&space;(&space;\frac{1}{6}&space;\right&space;)^i&space;\left&space;(&space;\frac{5}{6}&space;\right&space;)^{n-&space;i}&space;\right&space;]&space;\cdot&space;\binom{s}{s-j}&space;\left&space;(&space;\frac{1}{6}&space;\right&space;)^{j}&space;\left&space;(&space;\frac{5}{6}&space;\right&space;)^{s-j}&space;&plus;&space;\sum\limits_{j&space;=&space;min(k,&space;s-a)}^{k}&space;\left&space;[\binom{s}{s-j}&space;\left&space;(&space;\frac{1}{6}&space;\right&space;)^{j}&space;\left&space;(&space;\frac{5}{6}&space;\right&space;)^{s-j}&space;\right&space;]}{1&space;-&space;\sum\limits_{l&space;=&space;0}^{k-a-1}&space;\binom{n}{l}&space;\left&space;(&space;\frac{1}{6}&space;\right&space;)^{l}&space;\left&space;(&space;\frac{5}{6}&space;\right&space;)^{n-l}}$$&space;\\&space;$$$$" target="_blank"><img src="https://latex.codecogs.com/gif.latex?$$&space;=&space;\frac{\sum\limits_{i=0}^{min(s,&space;k-a)}&space;\mathbb{P}[X_{n-m-s,d}&space;\geq&space;k-a-i]&space;\cdot&space;\mathbb{P}[X_{s,d}&space;=&space;i]}{\mathbb{P}[X_{n-m}&space;\geq&space;k]}&space;\\&space;\\&space;$$&space;=&space;\frac{\left&space;(&space;\frac{5}{6}&space;\right&space;)^{s}&space;&plus;&space;\sum\limits_{j&space;=&space;1}^{min(k,&space;s-a)}&space;\left&space;[1&space;-&space;\sum\limits_{i&space;=&space;0}^{j&space;-&space;1}&space;\binom{n&space;-&space;m&space;-s}{i}&space;\left&space;(&space;\frac{1}{6}&space;\right&space;)^i&space;\left&space;(&space;\frac{5}{6}&space;\right&space;)^{n-&space;i}&space;\right&space;]&space;\cdot&space;\binom{s}{s-j}&space;\left&space;(&space;\frac{1}{6}&space;\right&space;)^{j}&space;\left&space;(&space;\frac{5}{6}&space;\right&space;)^{s-j}&space;&plus;&space;\sum\limits_{j&space;=&space;min(k,&space;s-a)}^{k}&space;\left&space;[\binom{s}{s-j}&space;\left&space;(&space;\frac{1}{6}&space;\right&space;)^{j}&space;\left&space;(&space;\frac{5}{6}&space;\right&space;)^{s-j}&space;\right&space;]}{1&space;-&space;\sum\limits_{l&space;=&space;0}^{k-a-1}&space;\binom{n}{l}&space;\left&space;(&space;\frac{1}{6}&space;\right&space;)^{l}&space;\left&space;(&space;\frac{5}{6}&space;\right&space;)^{n-l}}$$&space;\\&space;$$$$" title="$$ = \frac{\sum\limits_{i=0}^{min(s, k-a)} \mathbb{P}[X_{n-m-s,d} \geq k-a-i] \cdot \mathbb{P}[X_{s,d} = i]}{\mathbb{P}[X_{n-m} \geq k]} \\ \\ $$ = \frac{\left ( \frac{5}{6} \right )^{s} + \sum\limits_{j = 1}^{min(k, s-a)} \left [1 - \sum\limits_{i = 0}^{j - 1} \binom{n - m -s}{i} \left ( \frac{1}{6} \right )^i \left ( \frac{5}{6} \right )^{n- i} \right ] \cdot \binom{s}{s-j} \left ( \frac{1}{6} \right )^{j} \left ( \frac{5}{6} \right )^{s-j} + \sum\limits_{j = min(k, s-a)}^{k} \left [\binom{s}{s-j} \left ( \frac{1}{6} \right )^{j} \left ( \frac{5}{6} \right )^{s-j} \right ]}{1 - \sum\limits_{l = 0}^{k-a-1} \binom{n}{l} \left ( \frac{1}{6} \right )^{l} \left ( \frac{5}{6} \right )^{n-l}}$$ \\ $$$$" /></a>





